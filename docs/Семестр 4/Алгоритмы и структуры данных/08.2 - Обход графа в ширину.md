# Обход графа в ширину (волновой обход графа)

**Обход в ширину** фактически позволяет найти путь минимальной длины от вершины А к любой другой вершине в произвольном невзвешенном графе $G$.

Если рёбра/дуги графа имеют вес/стоимость, обход в ширину данную задачу не решает.

##### Задача

Лабиринт состоит из множества комнат одинакового размера. Некоторые из комнат соединены дверями.

Определить можно ли пройти из комнаты А в комнату Б и, если да, вычислить за какое минимальное количество перемещений.

Математической моделью данной задачи является неориентированный граф.

Проще всего задача решается обходом графа в ширину, начиная с вершины А.

##### Алгоритм

1. Присваиваем вершине А метку `0`.
2. Всем вершинам, смежным с вершиной А, присваивается метка `1`.
3. Процесс продолжается следующим образом: всем непомеченным вершинам, смежным с `1`, присваивается `2` и т.д.
4. Если помечена вершина Б, алгоритм завершается.  
	Метка вершины Б - минимальное количество шагов от А до Б.
5. Если на некотором шаге ни одна вершина не получила новую метку, а вершина Б так и не помечена, значит пути из вершины А в вершину Б не существует.

Если необходимо найти не только количество шагов, но и **путь**, будем двигаться от вершины Б к одной из смежных вершин с меткой на единицу меньшей данной вершины.

##### Программа

```java
public int makeWave (int a, int b) {
  int path[] = new int[vertCount+1];
  for (int i = 1; i <= vertCount; i++)
    path[i] = -1;
  path[a] = 0;
  int currentStep = 1;
  int i = 1;
  boolean isMetNewVertice = false
  boolean isEverythingMarked = false;
  do {
    while (i <= vertCount && path[i] != currentStep-1) i++;
    if (i <= vertCount) {
      isMetNewVertice = true;
      for (int j = 1; j <= vertCount; j++)
        if (graph[i][j] == 1 && path[j] == -1)
          path[j] = currentStep;
      i++;
    } else if (isMetNewVertice) {
      i = 1;
      isMetNewVertice = false;
      currentStep++;
    } else {
      isEverythingMarked = true;
    }
  } while (!isEverythingMarked);
  
  return path[b];
}
```