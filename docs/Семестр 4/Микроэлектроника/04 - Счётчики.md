# Счётчики

**Цифровой счётчик** - устройство, которое осуществляет счёт поступивших на вход импульсов, формирует результат в заданном коде и при необходимости хранит результат.

Основой любого счётчика служит линейка двухступенчатых триггеров или триггеров динамического типа.

В качестве базового может использовать `T`, `D` или `JK` триггер в соответствующем режиме включения.

По мере поступления входных сигналов счётчик последовательно перебирает свои состояния в определённом для данной схемы порядке.

Чисто различных состояний счётчика называется его **ёмкостью** или **модулем счёта**.

Счётчик, который меняет своё состояние в возрастающем порядке называется **суммирующим** или **счётчиком прямого счёта**.

Счётчик, у которого при поступлении сигнала содержимое уменьшается, называется **вычитающим** или **счётчиком обратного счёта**.

Счётчик, способный менять направления счёта называется **реверсивным**.

Наиболее простые по структуре - асинхронные счётчики, они же - счётчики с последовательным переносом.

## Прямой счётчик

![Pasted image 20240216103817.png](../../Pasted%20image%2020240216103817.png#)

Счётчик имеет информационный вход $C$ и вход сброса $R$. Первый триггер меняет своё состояние на противоположное с окончанием каждого счётного импульса. Так как триггеры соединены в цепочку, то каждый последующий триггер изменяет своё состояние по спаду сигнала на выходе предыдущего.

Результат счёта в двоичном коде появляется на выходах $Q1$-$Q4$.

Нулевое состояние счётчика повторится после поступления на счётный вход 16-го импульса. Анализ временной диаграммы показывает, что выход каждого двоичного разряда осуществляет операцию деления частоты. То есть при регулярном повторении тактовых импульсов, частота сигналов на выходе $Q1$ будет вдвое, а на выходе $Q2$ в четверо ниже, чем частота входных сигналов.

Если считывание информации должно производиться после каждого тактового сигнала, то минимальный период $T_{min}$ следования тактовых импульсов можно оценить по суммарному времени распространения сигнала по всей цепочке триггеров.

$$T_{min}=(n-1)\tau+t_{сч}$$

$n$ - число счётных разрядов счётчика  
$\tau$ - время задержки переключения одного триггера  
$t_{сч}$ - время срабатывания счётного устройства

Так как при переходе от триггера к триггеру задержка увеличивается, то счётчики с последовательным переносом имеют невысокое быстродействие.

## Счётчик с произвольным основанием

На практике иногда требуется использовать счётчик с другим модулем счёта. Для организации счётчика по произвольному основанию вводятся дополнительные логические связи, позволяющие досрочно обнулить счётчик при достижении им заданного состояния.

![Pasted image 20240216110517.png](../../Pasted%20image%2020240216110517.png#)

После поступления десятого импульса, на выходах `2` и `8` появится уровень логической единицы, который через логический элемент `И` поступает на вход сброса и переводит счётчик в исходное нулевое состояние.

Недостаток: возможен сбой в счёте из-за малой длительности обнуляющего импульса.

Для устранения недостатка на выходе логического элемента обеспечивающего сброс ставится `RS`-триггер, который переключившись в единичное состояние сохраняет его до прихода следующего счётного импульса.

## Обратный счётчик

![Pasted image 20240216111632.png](../../Pasted%20image%2020240216111632.png#)

Сигнал переноса из младшего разряда в старший берётся с инверсного выхода каждого триггера.

## Реверсивный счётчик

Для получения реверсивного счётчика необходим двухвходовый мультиплексор, позволяющий подключить входы последующих разрядов счётчика к прямым или инверсным выходам предыдущего.

![Pasted image 20240216113139.png](../../Pasted%20image%2020240216113139.png#)

## Синхронный счётчик

Максимальным быстродействием обладает синхронный счётчик - счётчик с параллельным (сквозным) переносом.

![Pasted image 20240216114026.png](../../Pasted%20image%2020240216114026.png#)

Время, необходимое для установления нового состояния уменьшено за счёт поступления счётных импульсов одновременно на все триггеры. Условия переключения каждого триггера определяет стоящий на входе каждого триггера логический элемент `И`, который разрешает переключение, когда все предыдущие разряды счётчика находятся в единице.
При заполнении всех триггеров единицей формируется сигнал переноса $P$, что позволяет наращивать разрядность путём соединения выхода $P$ со счётным входом другого счётчика.

Вход $P0$ играет роль стробирующего входа. Для разрешения счёта, на $P0$ нужно подать единицу.

### Счётчик на `JK`-триггерах

Счётчик с параллельным переносом может быть реализован на универсальных `JK`-триггерах с входной логикой.

При объединении входов $J$ и $K$, такой триггер превращается в `TV`-триггер, в котором объединённые входы можно использовать как стробирующие.

Счётные импульсы поступают на вход $C$.

Первый триггер работает как `T`-триггер, меняя своё состояние с каждым счётным импульсом.

Второй триггер будет реагировать на каждый второй импульс, третий на каждый четвёртый, четвёртый на каждый восьмой.

### Вычитающий счётчик с параллельным переносом

Вычитающий счётчик с параллельным переносом строится аналогично, но сигналы переноса снимаются с инверсных выходов.

На практике разрядность синхронных счётчиков ограничена (не более 6 разрядов) из-за различной длительности переходных процессов и большого количества логических связей.

Поэтому при построении многоразрядных синхронных счётчиков применяют комбинированный последовательно-параллельный перенос: триггеры объединяют в группы, внутри группы - параллельный перенос, между групп - последовательный.

## Счётчики-делители

Делители частоты представляют собой последовательностные устройства, частота следования цифровых сигналов на выходе которых связана с частотой входного сигнала соотношением $F_{вых}=\frac{f_{вых}}{k}$, где $k$ - коэффициент деления.

Счётчики-делители для формирования сигналов требуемой частоты, когда частота генератора выше необходимой.

Когда $k = 2^n$, делитель может быть организован на цепочке триггеров или на готовом двоичном счётчике, где выходной сигнал берётся с выхода старшего разряда, либо со специального выхода, сигнализирующего о переполнении счётчика.

Для получения коэффициента деления, отличного от $2^n$, используется построение безвентильных (без логического элемента `И`) счётчиков-делителей, построенных на основе `JK`-триггеров с обратными связями.


**Счётчик-делитель с коэффициентом $k=5$**
![Pasted image 20240220143453.png](../../Pasted%20image%2020240220143453.png#)

Порядок построения:
1. Разложить коэффициент $k$ на множители.
2. Составить функциональную схему, представляющую собой соединение вычитающих асинхронных счётчиков с модулем счёта $2^n$ и дополнительных `JK`-триггеров, позволяющих увеличить на единицу коэффициент деления.
3. Каждый дополнительный триггер подключают к входам $J$ к прямому выходу соответствующего счётчика, а инверсный выход дополнительного триггера соединяют со входом $J$ первого разряда счётчика.

Тогда частота сигнала, снимаемого с последнего разряда счётчика с модулем $k$, оказывается в $k$ раз меньше частоты выходного сигнала.


