# Синтаксический анализ. Порождение. Дерево вывода.

Существуют два способа определения языка грамматики:
- Последовательность правил вывода - порождение от стартового символа к предложению языка.
- Построение дерева разбора/вывода.

## Порождение

Основная идея порождение состоит в том, что каждая продукция рассматривается как переписывающее правило в котором нетерминал из левой части заменяется строкой из правой части продукции.

#### Пример грамматики арифметических выражений:

$E \rightarrow E+E\ |\ E*E\ |\ (E)\ |\ -E\ |\ id$
$N = \{E\}$
$T=\{+,*,(,),-,id\}$
$S=E$

$E=-E$
- "Из Е выводится минус Е"
- "Е порождает минус Е"

$E \rightarrow \underset{1}{E+E}\ |\ \underset{2}{E*E}\ |\ \underset{3}{(E)}\ |\ \underset{4}{-E}\ |\ \underset{5}{id}$

Получение $-(id)$: $E \underset{4}{\Rightarrow} -E \underset{3}{\Rightarrow} -(E) \underset{5}{\Rightarrow} -(id)$

#### Определения

Последовательность - вывод/порождение строки $-(id)$ из стартового символа грамматики.

**Предложение языка** - строка терминальных символов, полученная в результате вывода (порождения) из стартового символа грамматики путём последовательности замен.

Сентенциальная форма содержит в своём составе любые символы - хоть терминалы, хоть не терминалы.

**Сентенциальная форма грамматики** - любая цепочка полученная из стартового символа грамматики.

Сентенциальная форма, которая содержит только терминальные символы является **предложением языка**.

Таким образом на каждом шаге порождения/вывода осуществляется два выбора:
- Выбирается заменяемый нетерминал *(только один)*
- Выбирается альтернатива для этого нетерминала

**Пример:**

$E \rightarrow \underset{1}{E+E}\ |\ \underset{2}{E*E}\ |\ \underset{3}{(E)}\ |\ \underset{4}{-E}\ |\ \underset{5}{id}$

$w = -(id+id)$

$E \underset{4}{\Rightarrow} -E \underset{3}{\Rightarrow} -(E) \underset{1}{\Rightarrow} -(E+E) \underset{5}{\Rightarrow} -(id+E) \underset{5}{\Rightarrow} -(id+id)$

В данном случае получается левостороннее порождение - на каждом шаге заменялся крайний левый нетерминал.

## Дерево вывода

Дерево разбора/вывода/привидения можно рассматривать как графическое представление порождения, из которого удалена информация о порядке замещения.

Дерево разбора - это конечный неориентированный граф, обладающий следующими свойствами:
1. У него одна вершина - корень дерева. Соответствует стартовому символу грамматики.
2. Каждый внутренний узел дерева помечается некоторым нетерминалом $A$.
3. Дочерние узлы помечаются слева направо символами из правой части продукции для $A$.
4. Листья дерева помеченные терминальными символами и будучи прочитанными слева направо

![Pasted image 20240207130104.png](../../Pasted%20image%2020240207130104.png#)

Для одной строки можно получить даже два и больше деревьев разбора, даже левосторонних.

**Пример:**

$w = id+id*id$
1. $E \Rightarrow E+E \Rightarrow id + E \Rightarrow id + E * E \Rightarrow id + id * E \Rightarrow id + id * id$
2. $E \Rightarrow E*E \Rightarrow E+E*E \Rightarrow id+E*E \Rightarrow id+id*E \Rightarrow id+id*id$

Предпочтительнее будет первый вариант, так как он соответствует приоритету математики в виде дерева приведения.

![Pasted image 20240207131512.png](../../Pasted%20image%2020240207131512.png#)

Первое отображает обычный приоритет операций умножения и сложения.

Грамматика, которая даёт более одного дерева разбора одной стороны *(например 2+ левых)* называется неоднозначной.

**Контекстно свободная грамматика** называется **однозначной** если для некоторой цепочки существует только одно дерево разбора.

Однозначность или неоднозначность - свойство грамматики, не языка.

Однозначные грамматики обеспечивают однозначную семантическую интерпретацию программы и получение машинного кода.

