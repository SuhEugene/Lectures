# Способы представления графов

## Матрица смежности

**Матрицей смежности** для графа $G$ равного паре $V$ $E$, где $V = \{v_1, v_2, ..., v_n\}$, называется матрица $A$ размером $n \times n$, где $a_{ij} = 1$, тогда и только тогда, когда существует дуга $(i, j)$. Все остальные элементы матрицы $A$ равны нулю.

В случае взвешенного графа матрица смежности часто заменяется матрицей стоимости.

Основным плюсом использования матрицы смежности является прямой доступ к каждому элементу. То есть информацию о дуге $(i, j)$ можно получить за одну элементарную операцию.

Главный минус - размер матрицы пропорционален $n^2$, где $n$ - количество вершин графа. Следовательно требуется большое количество памяти и большое количество времени поиска по матрице.
##### Пример

$$
\begin{pmatrix}
0 & 1 & 0 & 0\\
1 & 0 & 1 & 0\\
0 & 0 & 0 & 1\\
0 & 0 & 0 & 0
\end{pmatrix}
$$

![Pasted image 20231127131202.png](../Pasted%20image%2020231127131202.png#)


## Списки смежности

**Списки смежности** представляют собой одномерный массив указателей $i$-й элемент которого содержит адрес списка вершин, смежных с $i$-й.

| Элемент | Список       |
| ------- | ------------ |
| 1       | $[v_2]$        |
| 2       | $[v_1, v_3]$ |
| 3       | $[v_4]$        |
| 4       | -            |

Списки смежности имеют преимущество перед матрицей смежности только в том случае, если граф сильно разрежён (при большом количестве вершин малое количество дуг).

Количество дуг: $$k = \frac{n(n-1)}{2}$$


## Задача о кёнигсбергских мостах

Город Кёнигсберг стоит по обоим берегам реки Преголь и её двух островах. Берега и острова соединены семью мостами.

Вопрос: Можно ли выйти из дома, прогуляться по каждому мосту лишь один раз и вернуться домой? И если да, то как это сделать?

![Pasted image 20231204125243.png](../Pasted%20image%2020231204125243.png#)

Ответ на этот вопрос дал немецко-российский учёный Леонард Эйлер.

Схему Кёнигсберга можно изобразить в виде графа:

![Pasted image 20231204125615.png](../Pasted%20image%2020231204125615.png#)

Вершины графа - берега и острова. Рёбра - мосты.  
Задача сводится к нахождению в графе эйлерова цикла.

Теорема: эйлеров цикл в графе существует тогда и только тогда, когда степени всех его вершин чётные.

### Алгоритм нахождения эйлерова цикла

1. Выбрать произвольно некоторую вершину $v_0$.
2. Выбрать произвольно некоторое ребро $u$, инцидентное вершине $v_0$ и пометить его номером 1.
	Будем считать помеченное ребро пройденным.
3. Каждое пройденное ребро помечать номером на единицу больше предыдущего и вычёркивать его из графа.
4. Находясь в вершине $v_i$ не выбирать ребро $(v_i, v_0)$, если это возможно.
5. Находясь в вершине $v_i$ не выбирать ребро, которое является перешейком (при удалении перешейка граф распадётся на две области связности).
6. После того, как в графе будут занумерованы все рёбра цикл $(u_1, u_2, ..., u_k)$, образованный рёбрами с номерами 1, 2, ..., $k$ является эйлеровым циклом в графе.

