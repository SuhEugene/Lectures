# Регистры

**Регистры** - функциональные устройства, предназначенные для записи, хранения и преобразования двоичной информации. Основой любого регистра является цепочка триггеров. Обычно JK-типа или D-типа. Число триггеров в цепочке определяется **разрядностью** регистра.

**Ввод** или **запись** - процедура занесения информации в регистр.  
**Вывод** или **считывание** - извлечение информации из регистра.

Одиночный триггер способный запоминать и хранить 1 бит информации считается одноразрядным регистром.

## Классификация

Регистры делятся на:
- Регистры хранения
- Регистры сдвига
- Специальные регистры:
	- Регистры последовательных приближений (применяются в АЦП[^1])
	- Многоцелевые регистры (используются в качестве СОЗУ[^2])

[^1]: - Аналого-цифровой преобразователь
[^2]: - Сверх-оперативное запоминающее устройство
### Регистры хранения

Регистры хранения называются параллельными так как запись информации во все триггеры осуществляется одновременно параллельным кодом по сигналу на общем входе синхронизации $C$.

Занесение в регистр новой информации не требует предварительного обнуления, так как с поступлением импульса информация обновляется.

Некоторые регистры имеют дополнительные стробирующие входы, позволяющие хранить без изменения записанное число в течение нескольких тактов синхронизации.

При стробировании по выходам, считывание содержимого регистра производится только при наличии разрешающего сигнала $EO$.

##### Четырёхразрядный параллельный регистр хранения

![Четырёхразрядный параллельный регистр хранения.png](../%D0%A7%D0%B5%D1%82%D1%8B%D1%80%D1%91%D1%85%D1%80%D0%B0%D0%B7%D1%80%D1%8F%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%BF%D0%B0%D1%80%D0%B0%D0%BB%D0%BB%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%20%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F.png#)

При подаче на вход $EO$ логической единицы, разрешается вывод записанной в регистр информации через ключи, собранные на логических элементах `2И`.

В отсутствие разрешающего сигнала на всех выходах будет ноль.


## Регистры сдвига - последовательные регистры

В регистрах сдвига триггеры расположены цепочкой. Причём прямой выход одного триггера соединён с информационным входом другого триггера.

Запись информации осуществляется последовательным кодом по информационному входу $D$ первого триггера.

Перед занесением информации в регистр он обнуляется с помощью команды сброса по входу $R$.

Регистры сдвига составляют основу ОЗУ с последовательным доступом.

В регистре сдвига влево информация поступает в старший разряд и с каждым тактовым импульсом сдвигается в сторону младших разрядов.

Сдвигающие регистры позволяют преобразовывать последовательный код в параллельный и наоборот. Обычно для этого используют комбинированные регистры:

- Параллельно-последовательные  
	Ввод осуществляется параллельно, а вывод - последовательно, поэтому они имеют несколько информационных входов, по числу разрядов, и один выход.
- Последовательно-параллельные  
	Ввод осуществляется последовательно, а вывод - параллельно, поэтому они имеют один вход и несколько информационных выходов, по числу разрядов.


Последовательные регистры имеют два недостатка:
- Быстродействие - возможен только побитовый ввод информации в каждом такте.
- Потеря информации - при каждом сдвиге теряется крайний бит.

Эти недостатки устранены в кольцевых регистрах.

##### Четырёхразрядный последовательный регистр (сдвига)

![Четырёхразрядный последовательный регистр.png](../%D0%A7%D0%B5%D1%82%D1%8B%D1%80%D1%91%D1%85%D1%80%D0%B0%D0%B7%D1%80%D1%8F%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80.png#)

Предположим что в регистр необходимо занести число `1101`.  
Для хранения старшего бита используется триггер $T4$, младшего - $T1$.

- На вход $D$ подаётся уровень логической единицы.
- После первого тактового импульса на входе $C$ в $T1$ запишется единица, в остальных триггерах будут нули.
- После второго тактового импульса в $T1$ вновь запишется единица, а в $T2$ перепишется единица с выхода $T1$.
- Затем на вход $D$ подаётся ноль, который после третьего тактового импульса запишется в $T1$, а единицы, записанные ранее сдвинутся в $T2$ и $T3$.
- Далее на вход $D$ подаётся единица, которая с четвёртым тактовым импульсом запишется в $T1$, а предыдущая информация сдвинется вправо.

Теперь записанное в регистр четырёхразрядное число может быть считано с выходов соответствующих триггеров в параллельном коде.

Если работа тактового генератора непрерывна, то начиная с пятого тактового импульса из $T4$ будет производиться поразрядный вывод записанного числа.

##### Четырёхразрядный кольцевой последовательный регистр (сдвига)

![Четырёхразрядный кольцевой последовательный регистр.png](../%D0%A7%D0%B5%D1%82%D1%8B%D1%80%D1%91%D1%85%D1%80%D0%B0%D0%B7%D1%80%D1%8F%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%BA%D0%BE%D0%BB%D1%8C%D1%86%D0%B5%D0%B2%D0%BE%D0%B9%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80.png#)

В кольцевых регистрах предварительная запись и сброс информации осуществляются по входам $S$ и $R$ соответственно.

Выход последнего триггера соединён со входом первого, поэтому информация не теряется и циркулирует по кольцу в соответствии с поступлением тактовых импульсов.

#### Универсальный реверсивный последовательный регистр (сдвига)

![Pasted image 20230927112013.png](../Pasted%20image%2020230927112013.png#)

Существуют реверсивные регистры, позволяющие выбирать направление сдвига.

В реверсивных регистрах для коммутации входов и выходов триггеров применяются мультиплексоры.

Реверсивный регистр допускает либо параллельную загрузку информации по входам $D1$-$D4$ по срезу импульса синхронизации $C2$, либо последовательную загрузку по входу $D$ по срезу импульса синхронизации $C1$.

Сигналом на управляющем входе $V$ можно изменять направление сдвига при последовательном вводе информации.


### Универсальные регистры

Универсальные регистры позволяют гибко управлять режимом работы (последовательный и параллельный) и направлением сдвига.

#### Устройство одного разряда универсального регистра

![Pasted image 20230927113135.png](../Pasted%20image%2020230927113135.png#)

Выбор режима работы задаётся сигналами $PL$, $SL$ и $SR$.
$PL$ - Параллельный.
$SL$, $SR$ - последовательные влево и вправо соответственно.

При поступлении единицы на $PL$ разрешается параллельная загрузка всех триггеров по входам $D_i$.

В зависимости от состояния входов $SR$ и $SL$, информационный вход $D_i$ $i$-того триггера подсоединяется либо ко входу триггера $i-1$ (сдвиг вправо), либо ко входу триггера $i+1$ (сдвиг влево).

Для младшего разряда вход $i-1$ является входом $DSR$ всего регистра.  
Вход $i+1$ самого старшего разряда - входом $DSL$ всего регистра.

Выход $Q_i$ D-триггера подключён к соответствующим входам мультиплексоров соседних разрядов.

Общие входы $C$ и $R$ служат для синхронизации и асинхронного сброса всех ячеек регистра.