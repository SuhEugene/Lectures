# Виртуальные функции

- Только нестатические компонентные функции могут быть виртуальными.
- Виртуальность наследуется, так что указывать необязательно в наследуемых классах.
- Конструкторы не могут быть виртуальными, когда деструкторы - могут.

Виртуальные функции могут быть обычными и необычными:

- Обычная виртуальная функция - функция с кодом. У неё есть тело функции.
- Необычная виртуальная функция не имеет тела. Называются **отложенными методами**.

Отложенные методы кажутся бесполезными, но они будут определены в наследуемых классах, так как класс в виртуальными функциями в любом случае - лишь интерфейс.

Применение:

```cpp
class Student {
public:
	virtual ~Student();
	virtual void print();
}
```


```cpp
// Команды разные
// Механизм перегрузки
s.print();
a.print();
d.print();

// Полиморфная обработка родственных объектов
// Механизм замещения
Student* ps;
ps = &s; ps->print();
ps = &a; ps->print();
ps = &d; ps->print();
```

Механизм замещения работает в Runtime, когда механизм перегрузки - во время компиляции.


## Перегрузка виртуальных функций

```cpp
class B {
public:
	virtual void f(int);
	virtual void f(float);
}
```

Механизм замещения работает только с указателями.


Если в классе есть хотя бы одна чисто виртуальная функция или отложенный метод - он не предназначен для создания методов, только для объявления указателей. Он является абстрактным базовым классом.