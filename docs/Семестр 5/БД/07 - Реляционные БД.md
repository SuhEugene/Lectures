# Реляционные БД

## Понятия

Relation - отношение

Сегодня наиболее распространён именно этот тип БД.

Их отличает
- наличие небольшого набора абстракций, на основе которых просто моделировать наиболее распространённые предметные области
- наличие простого математического аппарата из теории множеств и мат. логики

Критикуют реляционные БД за ограниченность в нетрадиционных областях, системах автоматизации проектирования (машиностроении).

**Традиционные типы данных:**
1. **Числовые**: Используются для хранения количественных значений. Включают целые числа (INTEGER), вещественные числа (FLOAT, DOUBLE) и десятичные числа (DECIMAL).
2. **Дата и время**: Хранят временные метки и даты. Основные типы включают DATE, TIME и TIMESTAMP.
3. **Строки**: Содержат текстовые данные. Включают фиксированные строки (CHAR) и переменные длины (VARCHAR).
4. **Логические**: Хранят значения истинности, обычно представленные как TRUE или FALSE.
5. **Символьные**: Типы данных, такие как CHAR и VARCHAR, используются для хранения текстовой информации.

**Специальные типы данных:**
1. **Отрезки времени**: Позволяют хранить диапазоны времени, что полезно для работы с временными интервалами в приложениях, связанных с планированием и расписаниями.
2. **JSON и XML**: Поддержка структурированных данных в формате JSON или XML для хранения полуструктурированной информации, что позволяет гибко работать с данными, которые не вписываются в строгие рамки таблиц.
3. **Массивы**: Некоторые реляционные СУБД поддерживают массивы, позволяя хранить наборы значений в одном поле таблицы.

**Домен** - сравнимо с подтипами в языках программирования. Допустимое потенциальное множество значений данного типа.

**Атрибут** - столбец, колонка, поле. Описывает характеристики объекта.

**Схема отношения** - именованное множество пар (имя атрибута - имя типа данных).

**Степень схемы отношения (арность)** - мощность этого множества

**Таблица** - набор именованных схем отношений

**Кортеж** - множество пар (имя атрибута - значение), которое содержит одно вхождение каждого имени атрибута, принадлежащего схеме отношения.

**Отношение**  - множество кортежей соответствующих одной схеме отношения. Различают отношение к схемам и отношение к экземплярам. Набор кортежей - тело отношения. Реляционная БД - набор отношений, имена которых совпадают с именами отношений в схеме БД.

#### Свойства отношений

- **Значения атрибутов должны быть атомарны.**  
  Так как домен - потенциальное **множество** значений простого типа данных, то среди значений домена не могут содержаться множества значений.
- **Отсутствие кортежей-дубликатов.**  
  В таблице не должно быть повторяющихся записей. Свойство следует из определения отношения как множества кортежей. В классической теории множеств "Каждое множество стоит из различных элементов". Это свойство требует наличия у каждого отношения первичного ключа - (набора) атрибутов, значения которых однозначно определяют кортеж отношения.
- **Отсутствие упорядоченности кортежей.**  
  Это следует из определения "Отношение - это множество кортежей".
- **Отсутствие упорядоченности атрибутов.**
  Их упорядочивание не имеет никакого смысла.

#### Общая характеристика реляционной модели данных

Реляционная модель состоит из трёх частей:

1. Структурная часть
2. Манипуляционная часть
3. Целостная часть

В структурной части говорится, что единственной структурой данных, используемой в рел. БД является нормализованное $N$-арное отношение.

В манипуляционной части утверждаются два фундаментальных механизма манипулирования БД:

- Реляционная алгебра
- Реляционные исчисления. Классический логический аппарат исчисления предикатов первого порядка.

Основная функция манипуляционной части - обеспечение меры реляционности любого конкретного языка реляционных БД. Язык называется реляционным, если он обладает не меньшей выразительностью и мощностью, чем реляционная алгебра или реляционные счисления.

В целостной части рел. модели фиксируется два базовых требования целостности, которые должны поддерживаться в любой рел. СУБД:

1. Целостность сущностей. Любой кортеж любого отношения отличим от любого другого кортежа этого отношения. Решается вопрос введением первичного ключа.
2. Целостность по ссылкам. При соблюдении нормализованности отношений. Представляются в БД в виде нескольких кортежей, отношений.

#### Базисное средство манипулирования реляционными данными

1. Реляционная алгебра - основные алгебраические операции, теоретические множественные операции: объединение, пересечение, разность и произведение отношений.
2. Реляционные операции: ограничение, проецирование, соединение, деление отношений.
Также включены операции, такие как присваивание и наименование атрибутов.

| Электронная таблица | Реляционная модель | Реляционная БД |
| ------------------- | ------------------ | -------------- |
| Таблица             | Отношения          | Таблица БД     |
| Столбец, Клетка     | Атрибут            | Поле           |
| Строка              | Кортеж             | Запись         |
| Шапка               | Схема отношения    | Структура      |
